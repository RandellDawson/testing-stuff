version: 2
mergeable:
  - when: pull_request.opened, pull_request.synchronize, pull_request.labeled, pull_request.unlabeled
    validate:
      - do: label
        must_exclude:
          regex: 'status: i18n check required|status: needs an english review'
          message: Must not need any reviews
      - do: approvals
        min:
          count: 1
          message: 'At least one approval must be given.'
        required:
          reviewers: [ krherrmann ] # list of github usernames required to review
      - do: checks # default fail case
        status: 'failure' # Can be: success, failure, neutral, cancelled, timed_out, or action_required
        payload:
          title: 'Mergeable Run have been Completed!'
          summary: "### Status: {{toUpperCase validationStatus}}
          text: "{{#each validationSuites}}
            #### {{{statusIcon status}}} Validator: {{toUpperCase name}}
            {{#each validations }} * {{{statusIcon status}}} ***{{{ description }}}***
              Input : {{{details.input}}}
              Settings : {{{displaySettings details.settings}}} {{/each}}
            {{/each}}"
